(()=>{"use strict";function e(e,t=1){return 1===t&&([e,t]=[t,e]),Math.floor((t-e+1)*Math.random())+e}function t(t){for(let s=t.length;s;s--){let r=e(s)-1;[t[s-1],t[r]]=[t[r],t[s-1]]}}const s={score:document.querySelector("#score"),question:document.querySelector("#question"),result:document.querySelector("#result"),info:document.querySelector("#info"),start:document.querySelector("#start"),response:document.querySelector("#response"),timer:document.querySelector("#timer"),hiScore:document.querySelector("#hiScore"),render(e,t,s){for(const t in s)e.setAttribute(t,s[t]);e.innerHTML=t},show(e){e.style.display="block"},hide(e){e.style.display="none"},setup(){this.show(this.question),this.show(this.response),this.show(this.result),this.hide(this.start),this.render(this.score,r.score),this.render(this.result,""),this.render(this.info,""),this.render(this.hiScore,r.hiScore())},teardown(){this.hide(this.question),this.hide(this.response),this.show(this.start),this.render(this.hiScore,r.hiScore())},buttons:e=>e.map((e=>`<button>${e}</button>`)).join("")},r={start(e){console.log("start() invoked",e),this.score=0,this.questions=[...e],s.setup(),this.secondsRemaining=20,this.timer=setInterval(this.countdown,1e3),this.ask()},countdown(){r.secondsRemaining--,s.render(s.timer,r.secondsRemaining),r.secondsRemaining<=0&&r.gameOver()},ask(){if(console.log("ask() invoked"),this.questions.length>2){t(this.questions),this.question=this.questions.pop();const e=this.question.options;console.log(e,"options"),t(e);const r=this.question.question;s.render(s.question,r),s.render(s.response,s.buttons(e))}else this.gameOver()},check(e){console.log("check(event) invoked");const t=e.target.textContent,r=this.question.answer;t===r?(console.log("correct"),s.render(s.result,"Correct!",{class:"correct"}),this.score++,s.render(s.score,this.score)):(console.log("wrong"),s.render(s.result,`Wrong! The correct answer was ${r}`,{class:"wrong"})),this.ask()},gameOver(){console.log("gameOver() invoked"),s.render(s.info,`Game Over, you scored ${this.score} point${1!==this.score?"s":""}`),s.teardown(),clearInterval(this.timer)},hiScore(){const e=localStorage.getItem("highScore")||0;return(this.score>e||0===e)&&localStorage.setItem("highScore",this.score),localStorage.getItem("highScore")}},o=[{question:"What is Superman's real name?",options:["Clark Kent","Bruce Wayne","Peter Parker","Diana Prince"],answer:"Clark Kent"},{question:"Who is Wonder Woman's alter ego?",options:["Clark Kent","Diana Prince","Bruce Wayne","Scott Summers"],answer:"Diana Prince"},{question:"What is Batman's real name?",options:["Peter Parker","Bruce Wayne","Clark Kent","Scott Summers"],answer:"Bruce Wayne"},{question:"What is The Hulk's real name?",options:["Bruce Banner","Clark Kent","Diana Prince","Peter Parker"],answer:"Bruce Banner"},{question:"Who is Spider-man?",options:["Bruce Wayne","Peter Parker","Clark Kent","Diana Prince"],answer:"Peter Parker"},{question:"Who is Cyclops?",options:["Bruce Wayne","Scott Summers","Peter Parker","Diana Prince"],answer:"Scott Summers"}].map((e=>({question:e.question,options:e.options,answer:e.answer})));s.start.addEventListener("click",(()=>r.start(o)),!0),s.response.addEventListener("click",(e=>r.check(e)),!0)})();